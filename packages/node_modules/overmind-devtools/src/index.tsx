import { injectGlobal } from 'emotion'
import { render } from 'react-dom'
import { createElement } from 'react'
import * as iconFont from './icomoon.woff2'
import Devtools from './components/Devtools'
import { overmind } from './overmind'

injectGlobal`
  @font-face {
    font-family: 'icomoon';
    src: url('${iconFont}') format('woff2');
    font-weight: normal;
    font-style: normal;
  }
  :root {
    --color-primary: hsl(206, 57%, 17%);
    --color-purple: #c5a5c5;
    --color-yellow: #fac863;
    --color-blue: #79b6f2;
    --color-blue: #79b6f2;
    --color-red: #cc0000;

    --color-dark-1: hsl(206, 57%, 17%);
    --color-dark-2: hsl(206, 57%, 13%);
    --color-dark-3: hsl(206, 57%, 16%);
    --color-white-1: hsl(0, 0%, 90%);
    --color-white-2: hsl(0, 0%, 85%);
    --color-white-3: hsl(0, 0%, 80%);
    --color-white-4: hsl(0, 0%, 75%);
    --color-black-1: hsl(0, 0%, 20%);
    --color-black-2: hsl(0, 0%, 25%);
    --color-gray-1: hsl(0, 0%, 90%);
    --color-gray-2: hsl(0, 0%, 95%);

    --padding-1: 0.1rem;
    --padding-2: 0.25rem;
    --padding-3: 0.5rem;
    --padding-4: 1rem;
    --padding-5: 2rem;
    --padding-6: 3rem;

    --font-size-1: 10px;
    --font-size-2: 14px;
    --font-size-3: 16px;
    --font-size-4: 20px;
    --font-size-5: 22px;
    --font-size-6: 34px;

    --border-radius-1: 3px;
    --border-radius-2: 6px;
  }

  html, body {
    margin: 0;
    height: 100%;
  }
  body {
    overflow: hidden;
    font-family: Helvetica Neue;
    background-color: var(--color-dark-2);
    color: var(--color-white-1);
    line-height: 24px;
  }
  #app {
    height: 100%;
  }
`

window.onerror = (_, _2, _3, _4, error) => {
  overmind.actions.setError(error.message)
}

const container = document.createElement('div')
container.id = 'app'
document.body.appendChild(container)
render(<Devtools />, container)
