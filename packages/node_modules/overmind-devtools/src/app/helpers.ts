import { Context } from './'

export const getAppsFromStorage = (_, { storage }: Context) =>
  storage.get('apps')

export const getCurrentPortFromStorage = (_, { storage }: Context) =>
  storage.get('currentPort')

export const getNewPortFromState = (_, { state }: Context) => state.newPortValue

export const storeApps = (_, { storage, state }: Context) =>
  storage.set('apps', state.apps)

export const toNumber = (value: string) => String(Number(value))

export const connectCurrentPort = (action: (message: any) => void) => (
  _,
  { state, connector }: Context
) => connector.addPort(state.currentPort, action)
