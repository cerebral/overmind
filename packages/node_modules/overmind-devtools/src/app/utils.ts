export const runMutation = (state) => (mutation) => {
  const pathArray = mutation.path.split('.')
  const key = pathArray.pop()
  const target = pathArray.reduce((current, pathKey) => current[pathKey], state)

  switch (mutation.method) {
    case 'set':
      target[key] = mutation.args[0]
      break
    case 'unset':
      delete target[key]
      break
    default:
      target[key][mutation.method](...mutation.args)
  }
}
